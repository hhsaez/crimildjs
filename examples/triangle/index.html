<!DOCTYPE html>
<html>
	<head>
		<title>CrimildJS Example: Triangle</title>
		<script data-main="../../src/crimild" src="../../lib/require.js"></script>
		<script type="text/javascript">
			require(["Crimild"], function(C) {
				new C.Simulation({
					scene: new C.Group({
						nodes: [
							new C.Geometry({
								primitive: new C.Primitive({
									vertexBuffer: new C.VertexBufferObject({
										vertexFormat: C.VertexFormat.VF_P3,
										count: 3,
										data: new Float32Array([
											-1.0, -1.0, 0.0,
											1.0, -1.0, 0.0,
											0.0, 2.0, 0.0
										])
									}),
									indexBuffer: new C.IndexBufferObject({
										count: 3,
										data: new Uint16Array([0, 1, 2])
									})
								}),
								components: [
									new C.RenderComponent({
										material: new C.Material({
											diffuse: [0.2, 1.0, 0.8, 1.0]
										})
									}),
									new C.CallbackComponent({
										updateCallback: function(node, dt) {
											quat4.multiply(node.local.rotate, quat4.fromAngleAxis(dt, [0, 0, 1]), node.local.rotate);
										}
									})
								],
							}),
							new C.Camera({
								local: new C.Transformation({
									translate: [0, 0, 5]
								}),
							})
						]
					}),
					renderer: new C.Renderer({
						fullscreen: true
					}),
				}).run();
			});
		</script>
		<style type="text/css">
			body {
				padding: 0;
				margin: 0;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<canvas id="crimildjs" width="640" height="480" />
	</body>
</html>

